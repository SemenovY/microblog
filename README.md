Если во время инициализации модуля интерпретатор натыкается на импорт другого модуля, то он приостанавливает инициализацию файла до полного удовлетворения зависимости, тем самым весь оставшийся код модуля остается не загруженным. Проблема возникает когда модули ссылаются друг на друга, а именно на код, который ещё не загружен в интерпретатор. Если взаимного импорта не избежать, то должна быть определена строгая иерархия между модулями. В данной ситуации основной файл приложения должен быть полностью загружен первым.
1. Однако перед ее запуском Flask необходимо объяснить, как ее импортировать, установив переменную среды FLASK_APP:
```
(venv) $ export FLASK_APP=microblog.py
```
Вы можете запустить свое первое веб-приложение, набрав команду:
```
flask run
```
Создаем репозиторий миграции:
```
flask db init
```
Создаем миграции
```
flask db migrate -m "users table"
```
Чтобы применить изменения к базе данных, необходимо использовать команду:
```
flask db upgrade
```
